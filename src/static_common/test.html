<!doctype html>
<html lang="en-US">
<html>
<head>
	<title>Configuration Page</title>
</head>
<body>
	<div ng-app='myApp' ng-controller='myCtrl'>
	<p>{{res.Password}}</p>

	<form>
		<table align="center" cellpadding="10px">
			<tr>
				<td>Ceeb:</td>
				<td ng-model='ceeb'>{{res.Ceeb+':'+res.Username}}</td>
			</tr>
			<tr>
				<td>Contact:</td>
				<td ng-model='contact'>{{res.Primary_Contact_Name}}</td>
			</tr>
			<tr>
				<td>Competing School:</td>
				<td ng-model='compete'>{{res.Competing_Schools}}</td>
			</tr>
			<tr>
				<td>Username:</td>
				<td>{{res.Username}}</td>
			</tr>
			</br></br>
			<tr>
				<td>Password Reset : </td>
			</tr>
			<tr>
				<td><input type='text' placeholder='Initial Password' ng-model='Init'></td>
			</tr>
			<tr>
				<td><input type='text'placeholder='New Password'></td>
			</tr>
			<tr>
				<td><input type='text' placeholder='Confirm Password'></td>
			</tr>
			<tr>
				<td><button ng-click='confirm()'>Confirm</button></td>
			</tr>

		</table>
	</form>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
	<script>
		var app = angular.module('myApp' , []);
		
		app.controller('myCtrl',function($scope,$http){
			$http.get("http://localhost:8000/customers/bd0cbd7a-657a-4033-b3a0-2c72bab80be0/").then(function(response){
				$scope.res=response.data;
			});
		$scope.confirm=function(){
				console.log("haha");
				
			$http.put("http://localhost:8000/customers/bd0cbd7a-657a-4033-b3a0-2c72bab80be0/", {"Ceeb":$scope.res.Ceeb,"Username":$scope.res.Username,"Competing_Schools":$scope.res.Competing_Schools,"Password":$scope.Init}).then(function(response){
				console.log("successful");
			},function(response){
				console.log("failed");
			});
		}
		});
	</script>
</body>
</html>
